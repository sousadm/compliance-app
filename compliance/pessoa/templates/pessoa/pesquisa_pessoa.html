<h1>Selecione o Cliente</h1>

{{ selecionado }}

<div class="input-group">
    <input type="text" value="{{ valor }}" name="valor" class="form-control" autofocus>
    <div class="input-group-append">
        <button type="submit" name="btn_pesquisar" value="pesquisar" class="btn btn-primary">
            <i class="fas fa-search"></i> Pesquisar
        </button>
        <button type="button" name="btn_voltar" value="voltar" class="btn btn-secondary" onclick="seleciona({{ selecionado }})">
            <i class="fas fa-undo"></i> Voltar
        </button>
    </div>
</div>

<div style="margin-top: 10px" class="table-responsive">
    <table class="table table-striped table-sm">
        <thead>
        <tr style="background-color: silver;">
            <th>Nome</th>
            <th>CNPJ</th>
            <th width="130"></th>
        </tr>
        </thead>
        <tbody>
        {% for item in lista %}
        <tr>
            <td>{{ item.nome|default_if_none:"" }}</td>
            <td>{{ item.cnpj|default_if_none:"" }}</td>
            <td>
                <button type="button" class="btn btn-light" onclick="seleciona({{item.id}})">
                    <i class="fas fa-check"></i> Selecionar
                </button>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="4"><span>sem registros</span></td>
        </tr>
        {% endfor %}
        </tbody>
    </table>

    {% include "core/paginacao.html" %}
</div>

<input type="text" id="codigo" name="codigo" value="{{ codigo }}" >
<input type="submit" value="Pesquisar" id="btn_seleciona" name="btn_seleciona" hidden>
<script>
        function seleciona(valor) {
            var elemento = document.getElementById("codigo");
            elemento.value = valor;
            $('#btn_seleciona').click();
        }

</script>
